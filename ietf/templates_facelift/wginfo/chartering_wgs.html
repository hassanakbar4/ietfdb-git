{% extends "ietf.html" %}

{% block title %}Chartering or re-chartering Working Groups{% endblock %}

{% block content %}
{% load ietf_filters %}
{% load ballot_icon %}

<h1>Chartering or re-chartering Working Groups</h1>

<p>
	Groups with a charter in one of the following states:
	<ul>
	{% for s in charter_states %}
		<li><i>{{ s.name }}</i></li>
	{% endfor %}
	</ul>
</p>

{% if user|has_role:"Area Director,Secretariat" %}
<p><a class="btn btn-default" role="button" href="{% url "wg_create" %}">Charter new WG</a></p>
{% endif %}

{% if not groups %}
	<p>No groups found.</p>
{% else %}
	<table class="table table-condensed table-striped ietf">
		<thead>
			<tr>
				<th>Group</th>
				<th>Name</th>
				<th>Date</th>
				<th>Status</th>
			</tr>
		</thead>
		<tbody>
			{% for g in groups %}
			<tr>
				<td>
					<a href="{% url "group_charter" acronym=g.acronym %}">{{ g.acronym }}</a>
				</td>

				<td>
					<a href="{% url "doc_view" name=g.charter.name %}">{{ g.name }}</a>
				</td>

				<td class="nowrap">{{ g.charter.time|date:"Y-m-d" }}</td>

				<td>
					<div class="ballot-icon pull-right">{% ballot_icon g.charter %}</div>

					{{ g.charter.get_state.name }}
					{% if g.chartering_type == "initial" %}(Initial Chartering){% endif %}
					{% if g.chartering_type == "recharter" %}(Rechartering){% endif %}
					{% if not g.chartering_type and g.state_id != "active" %}({{ g.state.name }}){% endif %}

					{% if g.charter.telechat_date %}<br/>IESG Telechat: {{ g.charter.telechat_date|date:"Y-m-d" }}{% endif %}
				</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
{% endif %}

{% endblock %}
